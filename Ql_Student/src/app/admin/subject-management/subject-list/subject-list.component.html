<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Danh sÃ¡ch mÃ´n há»c</h2>
    <div>
      <a routerLink="/admin/subjects/search" class="btn btn-success me-2">ğŸ” TÃ¬m mÃ´n há»c</a>
      <a class="btn btn-primary" [routerLink]="['/admin/subjects/add']">+ ThÃªm mÃ´n há»c</a>
    </div>
  </div>

  <table class="table table-bordered table-hover table-striped">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>TÃªn mÃ´n</th>
        <th>TÃ­n chá»‰</th>
        <th>Sá»‘ buá»•i</th>
        <th>Trá»ng sá»‘ QT (%)</th>
        <th>Trá»ng sá»‘ TP (%)</th>
        <th>NgÃ y há»c</th>
        <th>Giá» há»c</th>
        <th>NgÃ y thi</th>
        <th>Giá» thi</th>
        <th>HÃ nh Ä‘á»™ng</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let subject of pagedSubjects; index as i">
        <tr>
          <td>{{ (currentPage - 1) * pageSize + i + 1 }}</td>
          <td>{{ subject.name }}</td>
          <td>{{ subject.credit }}</td>
          <td>{{ subject.sessionCount }}</td>
          <td>{{ subject.processWeight }}</td>
          <td>{{ subject.componentWeight }}</td>
          <td>{{ subject.startDate | date: 'dd/MM/yyyy' }}</td>
          <td>{{ subject.studyTime }}</td>
          <td>{{ subject.examDate | date: 'dd/MM/yyyy' }}</td>
          <td>{{ subject.examTime }}</td>
          <td>
            <a [routerLink]="['/admin/subjects/detail', subject.id]" class="btn btn-sm btn-info me-1">Chi tiáº¿t</a>
            <a [routerLink]="['/admin/subjects/edit', subject.id]" class="btn btn-sm btn-warning me-1">Sá»­a</a>
            <button class="btn btn-sm btn-danger" (click)="delete(subject.id)">XoÃ¡</button>
          </td>
        </tr>

        <tr>
          <td colspan="11" class="text-end">
            <a [routerLink]="['/admin/subjects', subject.id, 'students']" class="btn btn-outline-secondary btn-sm me-2">
              ğŸ‘¥ Xem sinh viÃªn Ä‘Ã£ Ä‘Äƒng kÃ½
            </a>
            <a [routerLink]="['/admin/subjects', subject.id, 'register-student']" class="btn btn-outline-primary btn-sm">
              â• ÄÄƒng kÃ½ mÃ´n há»c
            </a>
          </td>
        </tr>
      </ng-container>

      <tr *ngIf="subjects.length === 0">
        <td colspan="11" class="text-center">KhÃ´ng cÃ³ mÃ´n há»c nÃ o.</td>
      </tr>
    </tbody>
  </table>

  <!-- Pagination -->
  <nav *ngIf="totalPages > 1" class="d-flex justify-content-center mt-3">
    <ul class="pagination">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <button class="page-link" (click)="goToPage(currentPage - 1)">Â«</button>
      </li>

      <li
        class="page-item"
        *ngFor="let page of [].constructor(totalPages); let i = index"
        [class.active]="currentPage === i + 1"
      >
        <button class="page-link" (click)="goToPage(i + 1)">{{ i + 1 }}</button>
      </li>

      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <button class="page-link" (click)="goToPage(currentPage + 1)">Â»</button>
      </li>
    </ul>
  </nav>
</div>
