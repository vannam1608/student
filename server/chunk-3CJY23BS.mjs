import './polyfills.server.mjs';
import{K as i,P as d,cc as s,m as n}from"./chunk-DRMBBSAZ.mjs";var u=(()=>{class a{constructor(t){this.http=t,this.apiUrl="https://localhost:7082/api/Student"}getStudentInfo(){let t=localStorage.getItem("token");if(!t)throw new Error("Token not found");let r=JSON.parse(atob(t.split(".")[1])).StudentId;return this.http.get(`${this.apiUrl}/${r}`).pipe(n(o=>({id:o.data.id,studentCode:o.data.code,name:o.data.name,gender:o.data.gender,birthDate:o.data.birthDate,class:o.data.class,course:o.data.course})))}updateStudent(t){let e=localStorage.getItem("token");if(!e)throw new Error("Token not found");let o=JSON.parse(atob(e.split(".")[1])).StudentId,p={id:t.id,code:t.studentCode,name:t.name,gender:t.gender,birthDate:t.birthDate,class:t.class,course:t.course};return this.http.put(`${this.apiUrl}/update-profile/${o}`,p)}getProgress(){let t=localStorage.getItem("token");if(!t)throw new Error("Token not found");let r=JSON.parse(atob(t.split(".")[1])).StudentId;return this.http.get(`${this.apiUrl}/${r}/progress`)}static{this.\u0275fac=function(e){return new(e||a)(d(s))}}static{this.\u0275prov=i({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();export{u as a};
